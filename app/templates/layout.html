<html>
<title>The Culture</title>
<meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open Sans">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='main.css') }}">
<link rel="icon" href="{{ url_for('static', filename = 'homepagePics/fist.jpg') }}">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<body class="w3-light-grey">
<header-top class="site-header">
    <nav id="navbar" class="navbar navbar-expand-md">
      <div class="container">
        <a class="navbar-brand mr-6" href="{{ url_for('main.home') }}"><img style="width: 25px;height: 25px;" src="{{ url_for('static', filename = 'homepagePics/fist.jpg') }}"> The Culture</a>
        <div class="collapse navbar-collapse" id="navbarToggle">
          <div class="navbar-nav mr-auto">
            <a class="nav-item nav-link" href="{{ url_for('main.home') }}">Home</a>
            <a class="nav-item nav-link" href="{{ url_for('main.about') }}">About</a>
            <a class="nav-item nav-link" href="{{ url_for('reviews.show_reviews') }}">Reviews</a>
          </div>
          <a class="nav-item nav-link" href="{{ url_for('main.search_keyword') }}">Search</a>
          <div class="navbar-nav">
            {% if current_user.is_authenticated %}
              <li class="dropdown show">
                <a class="nav-item nav-link dropdown-toggle" href="#" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <img style="width: 25px; height: 25px;" class="rounded-circle" src="{{ url_for('static', filename = 'profilePics/' + current_user.image_file) }}"> {{ current_user.username }}
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                  <a href="{{ url_for('users.account') }}">My Account</a><br>
                  <a href="{{ url_for('users.logout') }}">Logout</a><br>
                </div>
              </li>
            {% else %}
              <a class="nav-item nav-link" href="{{ url_for('users.login') }}"></span> Login</a>
              <a class="nav-item nav-link" href="{{ url_for('users.register') }}"></span> Sign Up</a>
            {% endif %}
          </div>
        </div>
      </div>
    </nav>
</header-top>
<div class="container">
	{% with messages = get_flashed_messages(with_categories = true) %}
      {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}" role="alert">
          {{ message }}
        </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    {% block body %}{% endblock body %}
    {% block content %}{% endblock content %}
</div>
{% if paginate is defined %}
      {% if paginate == "all" %}
        <center>
          {% for page_num in reviews.iter_pages(left_edge = 1, right_edge = 1, left_current = 1, right_current = 2) %}
          {% if page_num %}
            {% if reviews.page == page_num %}
              <a class="btn btn-light mb-4" href="{{ url_for('reviews.show_reviews', page = page_num) }}">{{ page_num }}</a>
            {% else %}
              <a class="btn btn-outline-light mb-4" href="{{ url_for('reviews.show_reviews', page = page_num) }}">{{ page_num }}</a>
            {% endif %}
          {% else %}
            ...
          {% endif %}
          {% endfor %}
        </center>
      {% elif paginate == "user" %}
        <center>
          {% for page_num in reviews.iter_pages(left_edge = 1, right_edge = 1, left_current = 1, right_current = 2) %}
          {% if page_num %}
            {% if reviews.page == page_num %}
              <a class="btn btn-light mb-4" href="{{ url_for('users.user_reviews', username=user.username, page=page_num) }}">{{ page_num }}</a>
            {% else %}
              <a class="btn btn-outline-light mb-4" href="{{ url_for('users.user_reviews', username=user.username, page=page_num) }}">{{ page_num }}</a>
            {% endif %}
          {% else %}
            ...
          {% endif %}
          {% endfor %}
        </center>
      {% endif %}
{% endif %}
<!-- Footer -->
<footer class="w3-black" style="padding:25px">
  <span>© 2018 The Culture, Inc. · <a style="color: white" href="{{ url_for('main.privacy') }}">Privacy</a> · <a style="color: white" href="{{ url_for('main.terms_of_use') }}">Terms</a></span>
</footer>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script>
function likeFunction(x) {
    x.style.fontWeight = "bold";
    x.innerHTML = "✓ Liked";
}

window.onscroll = function() {
    if (window.pageYOffset == 0) {
        document.getElementById("navbar").style.top = "0";
    } else {
        document.getElementById("navbar").style.top = "-75px";
    }
};

$(document).ready(function(){
    $("#editButton").click(function(){
        $("#usernameField").hide();
        $("#emailField").hide();
        $("#editButton").hide();
    });
    $("#saveButton").click(function(){
        $("usernameField").show();
        $("emailField").show();
        $("editButton").show();
    });
    $("#cancelButton").click(function(){
        $("usernameField").show();
        $("emailField").show();
        $("editButton").show();
    });
});
</script>
